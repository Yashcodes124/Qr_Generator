<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QRcify Pro - Advanced QR Code Generator</title>
    <link rel="stylesheet" href="./assets/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Auth Modal -->
    <div id="authModal" class="modal" style="display: none">
      <div class="auth-modal-container">
        <button class="close-modal" onclick="closeAuthModal()">
          <i class="fas fa-times"></i>
        </button>
        <div class="auth-forms">
          <div id="successMessage" class="success-message"></div>
          <div id="errorMessage" class="error-message"></div>

          <!-- Login Form -->
          <div class="auth-form active" id="loginForm">
            <div class="form-header">
              <h3><i class="fas fa-lock"></i> Welcome Back</h3>
              <p>Enter your credentials to access your account</p>
            </div>
            <form onsubmit="handleLogin(event)">
              <div class="input-group">
                <div class="input-wrapper">
                  <i class="fas fa-envelope input-icon"></i>
                  <input
                    type="email"
                    id="loginEmail"
                    class="form-input"
                    placeholder="Email address"
                    required
                  />
                </div>
              </div>
              <div class="input-group">
                <div class="input-wrapper">
                  <i class="fas fa-lock"></i>
                  <input
                    type="password"
                    id="loginPassword"
                    class="form-input"
                    placeholder="Password"
                    required
                  />
                  <button
                    type="button"
                    class="password-toggle"
                    onclick="togglePassword('loginPassword')"
                  >
                    <i class="fas fa-eye"></i>
                  </button>
                </div>
              </div>
              <div class="forgot-password">
                <a href="#" onclick="openForgotPasswordModal()"
                  >Forgot password?</a
                >
              </div>
              <button type="submit" class="submit-btn" id="loginBtn">
                Login to Account
              </button>
            </form>
            <p>
              Don't have an account?
              <a href="#" onclick="showRegisterForm()" style="color: #667eea"
                >Register here</a
              >
            </p>
          </div>

          <!-- Register Form -->
          <div class="auth-form" id="registerForm" style="display: none">
            <div class="form-header">
              <h3><i class="fas fa-user-plus"></i> Create Account</h3>
              <p>Sign up to get started with QRcify Pro</p>
            </div>
            <form id="registerFormStep1" onsubmit="handleRegister(event)">
              <div class="input-group">
                <div class="input-wrapper">
                  <i class="fas fa-user input-icon"></i>
                  <input
                    type="text"
                    id="registerName"
                    class="form-input"
                    placeholder="Full name"
                    required
                  />
                </div>
              </div>
              <div class="input-group">
                <div class="input-wrapper">
                  <i class="fas fa-envelope input-icon"></i>
                  <input
                    type="email"
                    id="registerEmail"
                    class="form-input"
                    placeholder="Email address"
                    required
                  />
                </div>
              </div>
              <div class="input-group">
                <div class="input-wrapper">
                  <i class="fas fa-lock input-icon"></i>
                  <input
                    type="password"
                    id="registerPassword"
                    class="form-input"
                    placeholder="Password (min 6 characters)"
                    required
                    minlength="6"
                  />
                </div>
              </div>
              <button type="submit" class="submit-btn" id="registerBtn">
                Create Account
              </button>
            </form>
            <form
              id="registerFormStep2"
              style="display: none"
              onsubmit="handleVerifyOTP(event)"
            >
              <div class="form-header">
                <h3><i class="fas fa-shield-alt"></i> Verify Email</h3>
                <p>Enter the OTP sent to your email</p>
              </div>
              <div id="verificationEmail"></div>
              <div class="input-group">
                <input
                  type="text"
                  id="otpInput"
                  class="form-input"
                  placeholder="Enter 6-digit OTP"
                  maxlength="6"
                  pattern="[0-9]{6}"
                  required
                />
              </div>
              <button type="submit" class="submit-btn" id="verifyOTPBtn">
                Verify Email
              </button>
              <p style="text-align: center">
                Didn't receive OTP?
                <a
                  href="#"
                  onclick="handleResendOTP(event)"
                  style="color: #667eea"
                  >Resend OTP</a
                >
              </p>
            </form>
            <p>
              Already have an account?
              <a href="#" onclick="showLoginForm()" style="color: #667eea"
                >Login here</a
              >
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal" style="display: none">
      <div class="auth-modal-container">
        <button class="close-modal" onclick="closeForgotPasswordModal()">
          <i class="fas fa-times"></i>
        </button>
        <div class="form-header">
          <h3><i class="fas fa-key"></i> Reset Password</h3>
          <p>Enter your email to receive reset link</p>
        </div>
        <form onsubmit="handleForgotPassword(event)">
          <div class="input-group">
            <input
              type="email"
              id="resetEmail"
              class="form-input"
              placeholder="Your email address"
              required
            />
          </div>
          <button type="submit" class="submit-btn" id="resetBtn">
            Send Reset Link
          </button>
        </form>
        <p style="text-align: center">
          Remember your password?
          <a
            href="#"
            onclick="closeForgotPasswordModal(); showLoginForm()"
            style="color: #667eea"
            >Login</a
          >
        </p>
      </div>
    </div>

    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="logo">
          <h1>üîó QRcify Pro</h1>
          <span class="tagline">Advanced QR Code Generator</span>
        </div>
        <nav class="nav">
          <a href="#basic" class="nav-link">Basic QR</a>
          <a href="#secure" class="nav-link">Secure QR</a>
          <a href="#advanced" class="nav-link">Advanced</a>
          <a href="#decrypt" class="nav-link">Decrypt</a>
          <a href="#batch" class="nav-link">Batch</a>
          <a href="#shortener" class="nav-link">Shorten</a>
          <div id="authButtons">
            <button onclick="openAuthModal()" class="btn">Login</button>
            <button onclick="openRegisterModal()" class="btn">Register</button>
          </div>
          <div id="userMenuContainer" class="user-menu-container"></div>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <div class="container">
        <!-- Basic QR Section -->
        <section id="basic" class="section card">
          <div class="section-header">
            <h3>üöÄ Basic QR Generator</h3>
            <p>Quick and simple QR codes for URLs</p>
          </div>
          <div class="form-group">
            <input
              type="text"
              id="url"
              placeholder="https://example.com"
              class="form-input"
            />
          </div>
          <div id="basicQRCustomizer"></div>
          <button
            id="generateBtn"
            class="btn btn-primary"
            style="width: 100%; margin-top: 1.5rem"
          >
            Generate QR Code
          </button>
          <div id="urlLoader" class="loader-container" style="display: none">
            <div class="loader"></div>
            <span>Generating QR Code...</span>
          </div>
          <div id="output" class="output-container"></div>
        </section>

        <!-- Secure Text QR Section -->
        <section id="secure" class="section card">
          <div class="section-header">
            <h3>üîí Secure Text QR</h3>
            <p>Encrypt sensitive text before generating QR codes</p>
          </div>
          <div class="form-group">
            <textarea
              id="secretData"
              rows="4"
              placeholder="Enter your secret message here..."
              class="form-textarea"
            ></textarea>
            <input
              id="passphrase"
              type="password"
              placeholder="Encryption passphrase"
              class="form-input"
            />
          </div>
          <div id="secureQRCustomizer"></div>
          <button
            id="encryptTextBtn"
            class="btn btn-secondary"
            style="width: 100%; margin-top: 1.5rem"
          >
            Generate Secure QR
          </button>
          <div id="textLoader" class="loader-container" style="display: none">
            <div class="loader"></div>
            <span>Encrypting...</span>
          </div>
          <div id="qrOutput" class="output-container"></div>
        </section>

        <!-- File Encryption Section -->
        <section class="section card">
          <div class="section-header">
            <h3>üìÅ Secure File QR</h3>
            <p>Encrypt files and generate downloadable QR codes</p>
          </div>
          <div class="form-group">
            <input type="file" id="fileInput" class="file-input" />
            <input
              type="password"
              id="filePassphrase"
              placeholder="File encryption passphrase"
              class="form-input"
            />
          </div>
          <button
            id="encryptFileBtn"
            class="btn btn-secondary"
            style="width: 100%"
          >
            Encrypt & Generate QR
          </button>
          <div id="fileLoader" class="loader-container" style="display: none">
            <div class="loader"></div>
            <span>Encrypting file...</span>
          </div>
          <div id="fileOutput" class="output-container"></div>
        </section>

        <!-- Advanced QR Types Section -->
        <section id="advanced" class="section card">
          <div class="section-header">
            <h3>‚ö° Advanced QR Types</h3>
            <p>Specialized QR codes for different use cases</p>
          </div>

          <!-- vCard QR -->
          <div class="feature-card">
            <h4>üìá vCard QR Code</h4>
            <div class="form-grid">
              <input
                type="text"
                id="vcardName"
                placeholder="Full Name"
                class="form-input"
              />
              <input
                type="tel"
                id="vcardPhone"
                placeholder="Phone Number"
                class="form-input"
              />
              <input
                type="email"
                id="vcardEmail"
                placeholder="Email Address"
                class="form-input"
              />
              <input
                type="text"
                id="vcardCompany"
                placeholder="Company"
                class="form-input"
              />
            </div>
            <div id="vcardCustomizer"></div>
            <button
              onclick="generateVCardQR()"
              class="btn btn-outline"
              style="width: 100%; margin-top: 1rem"
            >
              Generate vCard QR
            </button>
            <div
              id="vcardOutput"
              class="output-container"
              style="margin-top: 1rem"
            ></div>
          </div>

          <!-- WiFi QR -->
          <div class="feature-card">
            <h4>üì∂ WiFi QR Code</h4>
            <div class="form-grid">
              <input
                type="text"
                id="wifiSsid"
                placeholder="Network Name (SSID)"
                class="form-input"
              />
              <input
                type="password"
                id="wifiPassword"
                placeholder="WiFi Password"
                class="form-input"
              />
              <select id="wifiEncryption" class="form-select">
                <option value="WPA">WPA/WPA2</option>
                <option value="WEP">WEP</option>
                <option value="nopass">No Encryption</option>
              </select>
            </div>
            <div id="wifiCustomizer"></div>
            <button
              onclick="generateWifiQR()"
              class="btn btn-outline"
              style="width: 100%; margin-top: 1rem"
            >
              Generate WiFi QR
            </button>
            <div
              id="wifiOutput"
              class="output-container"
              style="margin-top: 1rem"
            ></div>
          </div>
        </section>

        <!-- Decryption Section -->
        <section id="decrypt" class="section card">
          <div class="section-header">
            <h3>üîì QR Decryption</h3>
            <p>Decrypt your secure QR codes</p>
          </div>

          <!-- Text Decryption -->
          <div class="feature-card">
            <h4>Decrypt Text</h4>
            <div class="form-group">
              <textarea
                id="qrCipher"
                placeholder="Paste encrypted ciphertext..."
                rows="3"
                class="form-textarea"
              ></textarea>
              <input
                id="userPassphrase"
                type="password"
                placeholder="Decryption passphrase"
                class="form-input"
              />
              <button
                onclick="decryptText()"
                class="btn btn-warning"
                style="width: 100%"
              >
                Decrypt Text
              </button>
            </div>
          </div>
          <div
            id="decryptLoader"
            class="loader-container"
            style="display: none"
          >
            <div class="loader"></div>
            <span>Decrypting...</span>
          </div>
          <div id="decryptedOutput" class="output-container"></div>

          <!-- File Decryption -->
          <div class="feature-card">
            <h4>Decrypt File</h4>
            <div class="form-group">
              <input
                type="file"
                id="fileDecryptInput"
                accept=".enc"
                class="file-input"
              />
              <input
                type="password"
                id="fileDecryptPassphrase"
                placeholder="File decryption passphrase"
                class="form-input"
              />
              <button
                onclick="decryptFile()"
                class="btn btn-warning"
                style="width: 100%"
              >
                Decrypt File
              </button>
            </div>
          </div>
          <div id="decryptedFileOutput" class="output-container"></div>
        </section>

        <!-- URL Shortener Section -->
        <section id="shortener" class="section card">
          <div class="section-header">
            <h3>üîó URL Shortener</h3>
            <p>Create short, shareable links with QR codes</p>
          </div>

          <!-- Single URL Shortener -->
          <div class="feature-card">
            <h4>üìù Shorten a Single URL</h4>
            <div class="form-group">
              <input
                type="url"
                id="originalURL"
                placeholder="https://example.com/very/long/url"
                class="form-input"
              />
              <input
                type="text"
                id="customAlias"
                placeholder="Custom alias (optional)"
                class="form-input"
              />
              <input
                type="text"
                id="urlTitle"
                placeholder="URL title (optional)"
                class="form-input"
              />
            </div>
            <div id="urlShortenerCustomizer"></div>
            <button
              onclick="shortenSingleURL()"
              class="btn btn-primary"
              style="width: 100%; margin-top: 1rem"
            >
              üîó Shorten URL
            </button>
          </div>
          <div
            id="shortenerLoader"
            class="loader-container"
            style="display: none; margin-top: 1rem"
          >
            <div class="loader"></div>
            <span>Shortening URL...</span>
          </div>
          <div id="shortenerOutput" class="output-container"></div>

          <!-- Your Shortened URLs -->
          <div class="feature-card" style="margin-top: 2rem">
            <h4>üìã Your Shortened URLs</h4>
            <button
              onclick="loadUserShortenedURLs()"
              class="btn btn-outline"
              style="margin-bottom: 1rem"
            >
              üîÑ Load URLs
            </button>
            <div
              id="userShortenedURLsList"
              style="background: #f8f9fa; padding: 1.5rem; border-radius: 12px"
            >
              <p style="text-align: center; color: #666">
                Click "Load URLs" to see your shortened links
              </p>
            </div>
          </div>

          <!-- Batch URL Shortener -->
          <div
            class="feature-card"
            style="
              margin-top: 2rem;
              padding: 1.5rem;
              background: #f0f7ff;
              border-radius: 12px;
              border-left: 4px solid #3498db;
            "
          >
            <h4 style="margin-top: 0; color: #2c3e50">
              üì¶ Shorten Multiple URLs
            </h4>
            <div class="form-group">
              <label class="form-label">Enter URLs (one per line)</label>
              <textarea
                id="batchUrlsToShorten"
                rows="6"
                placeholder="https://example1.com&#10;https://example2.com"
                class="form-textarea"
                style="font-family: monospace; padding: 1rem"
              ></textarea>
              <button
                onclick="shortenBatchURLs()"
                class="btn btn-secondary"
                style="width: 100%; margin-top: 1rem"
              >
                üì¶ Shorten Batch
              </button>
            </div>
          </div>
          <div
            id="batchShortenerLoader"
            class="loader-container"
            style="display: none; margin-top: 1rem"
          >
            <div class="loader"></div>
            <span>Shortening URLs...</span>
          </div>
          <div id="shortenerBatchOutput" class="output-container"></div>
        </section>

        <!-- Batch QR Section -->
        <section id="batch" class="section card">
          <div class="section-header">
            <h3>üì¶ Batch QR Generator</h3>
            <p>Generate multiple QR codes at once</p>
          </div>

          <div class="form-group">
            <label class="form-label"
              >Enter URLs (one per line or JSON array)</label
            >
            <textarea
              id="batchUrls"
              rows="6"
              placeholder="https://example.com&#10;https://google.com"
              class="form-textarea"
              style="font-family: monospace; padding: 1rem"
            ></textarea>
          </div>

          <div id="batchCustomizer"></div>

          <button
            id="generateBatchBtn"
            class="btn btn-primary"
            onclick="generateBatchQR()"
            style="width: 100%; margin-top: 1.5rem"
          >
            üì¶ Generate Batch QR Codes
          </button>

          <div
            id="batchLoader"
            class="loader-container"
            style="display: none; margin-top: 1rem"
          >
            <div class="loader"></div>
            <span>Generating QR codes...</span>
          </div>

          <div id="batchOutput" class="output-container"></div>

          <!-- CSV Upload Option -->
          <div
            style="
              margin-top: 2rem;
              padding: 1.5rem;
              background: #f0f7ff;
              border-radius: 12px;
              border-left: 4px solid #3498db;
            "
          >
            <h4 style="margin-top: 0; color: #2c3e50">Or Upload CSV File</h4>
            <div class="form-group">
              <input
                type="file"
                id="csvFile"
                accept=".csv,.txt"
                class="file-input"
              />
            </div>
            <button
              class="btn btn-secondary"
              onclick="generateBatchFromCSV()"
              style="width: 100%"
            >
              üìÑ Generate from CSV
            </button>
          </div>
        </section>

        <!-- Stats Section -->
        <section class="section card">
          <div class="section-header">
            <h3>üìä Usage Statistics</h3>
            <p>Track your QR code generation</p>
          </div>
          <div id="statsContainer" class="stats-container">
            <button onclick="loadStats()" class="btn btn-outline">
              Load Statistics
            </button>
          </div>
        </section>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>&copy; 2025 QRcify Pro. Advanced QR Code Generator.</p>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="./assets/script.js"></script>
  </body>
</html>
